<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Top 100 Roblox Games</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f3f3f3; }
    h1 { text-align: center; }
    .games { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; }
    .game { background: white; padding: 10px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.2); text-align: center; }
    .game img { width: 100%; border-radius: 5px; }
    .game a { text-decoration: none; color: #333; font-weight: bold; display: block; margin: 10px 0 5px; }
    .players { color: #666; font-size: 0.9em; }
  </style>
</head>
<body>
  <h1>Top 100 Roblox Games</h1>
  <div class="games" id="games-container"></div>

  <script>
    async function fetchGames() {
      try {
        const response = await fetch('/top-games');
        const data = await response.json();
        const container = document.getElementById('games-container');

        data.data.forEach(game => {
          const div = document.createElement('div');
          div.className = 'game';

          const link = document.createElement('a');
          link.href = `https://www.roblox.com/games/${game.id}`;
          link.target = '_blank';
          link.textContent = game.name;

          const img = document.createElement('img');
          img.src = game.thumbnail || 'https://via.placeholder.com/150'; // fallback if no thumbnail
          img.alt = game.name;

          const players = document.createElement('div');
          players.className = 'players';
          players.textContent = `${game.playing || 0} playing`;

          div.appendChild(img);
          div.appendChild(link);
          div.appendChild(players);
          container.appendChild(div);
        });
      } catch (err) {
        console.error('Failed to fetch games:', err);
      }
    }

    fetchGames();
  </script>
</body>
</html>
